\documentclass{scrartcl}
\usepackage{listings}
\usepackage{caption}
\usepackage{color}
\usepackage{booktabs}
\usepackage{lscape}
\usepackage{tabularx}

\newcounter{nalg}[section] % defines algorithm counter for section
\renewcommand{\thenalg}{\thesection .\arabic{nalg}} %defines appearance of the algorithm counter
\DeclareCaptionLabelFormat{algocaption}{Algorithm \thenalg} % defines a new caption label as Algorithm x.y

\lstnewenvironment{algorithm}[1][] %defines the algorithm listing environment
{   
    \refstepcounter{nalg} %increments algorithm number
    \captionsetup{labelformat=algocaption,labelsep=colon} %defines the
                                                          %caption
                                                          %setup for:
                                                          %it ises
                                                          %label
                                                          %format as
                                                          %the
                                                          %declared
                                                          %caption
                                                          %label above
                                                          %and makes
                                                          %label and
                                                          %caption
                                                          %text to be
                                                          %separated
                                                          %by a ':'
    \lstset{ %this is the stype
        frame=tB,
        numbers=left, 
        numberstyle=\tiny,
        basicstyle=\scriptsize, 
        keywordstyle=\color{black}\bfseries,
        escapeinside={(*}{*)},
        keywords={,input, output, return, datatype, function, in, if, else, foreach, while, begin, end, } 
        numbers=left,
        xleftmargin=.04\textwidth,
        #1 % this is to add specific settings to an usage of this environment (for instnce, the caption and referable label)
    }
}
{}





\author{Alexander Eisl (0250266), Peter Wiedermann (0025999)}

\date{\today}


\title{Heuristic Optimization Techniques \\ Exercise 3}

\begin{document}
\maketitle


\section{General Variable Neighborhood search}
\label{sec:general_vns}

In this programming exercise, we build on our local search from the
previous exercise and implement a generalized variable neighborhood
search heuristic.




%%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%5
%%% NEIGHBORHOODS HERE
\subsection{Neighborhoods}
\label{neighborhoods}
We re-use the neighborhoods from assignment two and added a parameterized node move variant:

\begin{description}
\item[X-node-move] 
Defined as all subsets where X vertices of the initial solution are moved to other positions.

\begin{itemize}
\item Size of neigborhood: $(n-1)^2 * X $
\item Objective Function: Incremental, only crossings for moved edges are recalculated.
\end{itemize}

\end{description}
 
The neighborhoods from last assignement:

\begin{description}
\item[1-node flip] 
    
    This neighborhood is defined as all subsets where two vertices of the initial solution are flipped.
    \begin{itemize}
        \item Size of neigborhood: $n(n-1)/2$
        \item Objective Function: Incremental, crossings from flipped vertices are subtracted and recalculated.

    \end{itemize}

	
\item[1-edge move] This neighborhood consists of all solutions where one edge is moved to a different page. 
     \begin{itemize}
        \item Size of neigborhood: $(pages-1) edges$ 
        \item Objective Function: Incremental, only crossings for moved edges are recalculated.
    \end{itemize}
   
	
\item[1-node edge move] This neighborhood consists of all solutions where the edges of
	one vertex on a specific page are moved to all different pages. 

    \begin{itemize}
        \item Size of neigborhood: $(pages-1) edges$ as worst case.\footnote{depending on number of edges on respective node pages}
        \item Objective Function: Incremental, only crossings for moved edges are recalculated.
    \end{itemize}
    

\end{description}



\subsection{Neigborhoodstructures in General VNS}
We define two non-overlapping sets of neighborhoods and use the
neighborhoods in the specified order:

\begin{description}

    \item{VNS}: used for the shaking, we decided to take the complex
      neighborhoods here, which would be difficult to search
      completely.
                
                1-node-move, 2-node-move, 3-node-move
                
    \item{VND}: used for variable neighborhood descent in the inner loop:
         
                1-edge-move, 1-node-edge-move

\end{description}


%%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%5
%%% NEIGHBORHOODS HERE
\section{Results}

We executed the code on a desktop computer with a Core i7 Quad-Core
CPU with 2.67Ghz and 24 GB of main
memory. Table~\ref{tab:resultsOverall} shows the number of crossings
for the GVNS. We report average and standard deviations for $30$
executions as well as the minim number of crossings. The run-time of
our algorithm can be seen in \ref{tab:Timing}

We have set a timout of 5 minutes for the calculations.

Overall, we find that for the small instances the GVNS finds better
solutions than the local search we used in the previous
exercise. Tables~\ref{tab:timing}--\ref{tab:stoch} show that for
larger instances the maximum run-time is usually exhausted and, as a
result, we do not find large improvements compared to the local search
in the previous exercise.





\paragraph{Order of the neighborhoods}
Tables~\ref{tab:resultsDeterministic} and \ref{tab:resultsStochastic}
show the results when we change the order of our neighborhoods. In
Table~/ref{tab:resultsDeterminstic} we report the results where we
keep the order of the stochastic neighborhoods used for shaking the
same and invert the order of the other
neighborhoods. Table~\ref{tab:resultsStochastic} shows the results
where we flip the order of the neighborhoods used for shaking and keep
the others the same. As expected, changing the order of our
neighborhoods does influence the results of the GVNS.










\begin{table}[H]
  \centering
  \scriptsize
  \input{crossingsTab}
\caption{This table shows the results of our algorithm. We report the variance, average, standard deviation
  and minimum number of crossings for $30$ runs. The column \texttt{min\_run} specifies the run which resulted
  in the lowest number of crossings.}
\label{tab:resultsOverall}
\end{table}

\begin{table}[H]
  \centering
  \scriptsize
  \input{crossingsTab-det}
\caption{This table shows the results of our algorithm using when we
  flipped the order of the neighborhoods used in the inner loop.}
\label{tab:resultsDeterministic}
\end{table}

\begin{table}[H]
  \centering
  \scriptsize
  \input{crossingsTab-stoch-order}
\caption{This table shows the results of our algorithm when we flipped
  the order of the neighborhoods used for shaking.}
\label{tab:resultsStochastic}
\end{table}

\begin{table}[H]
  \centering
  \scriptsize
  \input{timeTab}
\caption{This table shows the runtime of our algorithm.}
\label{tab:Timing}
\end{table}

\begin{table}[H]
  \centering
  \scriptsize
  \input{timeTab-det-order}
\caption{This table shows the runtime of our algorithm when we flipped
  the order of the neighborhoods used in the inner loop.}
\label{tab:Timing-det}
\end{table}

\begin{table}[H]
  \centering
  \scriptsize
  \input{timeTab-stoch-order}
\caption{This table shows the runtime of our algorithm when we flipped
  the order of the neighborhoods used for shaking.}
\label{tab:Timing-stoch}
\end{table}

\end{document}
